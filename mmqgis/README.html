<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>MMQGIS</title>
<meta name="keywords" content="Qgis, Quantum GIS, plugin, python, Voronoi"/>
<meta name="description" content="A set of useful python plugins for QGIS"/>
</head>
<body>
<h1>MMQGIS</h1>

<p>Michael Minn (<a href="http://michaelminn.com">http://michaelminn.com</a>)</p>

<p>14 May 2017</p>

<p><em>Describes use of MMQGIS, a set of Python vector map layer plugins for Quantum GIS</em></p>

<!-- =========================================================== -->

<h2>Introduction</h2>

<p>MMQGIS is a set of <a href="http://www.python.org">Python</a> plugins
for manipulating vector map layers in <a href="http://www.qgis.org">Quantum GIS</a>:
CSV input/output/join, geocoding, geometry conversion, buffering, hub analysis, simplification, column modification, and simple animation.
MMQGIS provides an alternative to the 
<a href="http://docs.qgis.org/2.0/en/docs/user_manual/processing/toolbox.html">Processing</a> toolbox,
with verbose progress reporting, an intuitive user interface, direct
shapefile/CSV-file access, and some additional capabilities missing from
other plugin sets.</p>

<p>MMQGIS is included in the 
<a href="http://plugins.qgis.org/plugins/">Quantum GIS Plugin Repository</a> and
should be readily available in the QGIS Python Plugin Installer (Plugins -&gt; Fetch Python Plugins).
A tarball of the python code is also available from
<a href="http://michaelminn.com/linux/mmqgis/mmqgis.zip">
http://michaelminn.com/linux/mmqgis/mmqgis.zip</a> for manual installation.</p>

<p>MMQGIS assumes that input and output shapefiles and CSV files are encoded
in the <b>UTF-8</b> character set. MMQGIS uses the standard Python CSV file interface
functions, which do not handle Unicode or other multi-byte encodings. While
files that use the lower 7-bits of the 8-bit Windoze character sets (ISO-8859-x) will
generally be fine, unpredictable results and errors may occur with non-ASCII
characters in non-UTF-8 character sets. See
<a href="https://peopledoc.zendesk.com/hc/en-us/articles/204095429-How-to-Encode-an-Excel-File-in-UTF-8-and-Save-it-as-a-CSV">
this</a> and
<a href="https://answers.microsoft.com/en-us/msoffice/forum/msoffice_excel-mso_windows8/how-can-i-save-a-csv-with-utf-8-encoding-using/12801501-c1e4-4a64-80d9-96b680b64cfe">
this</a> for two ways to save a UTF-8 CSV from Excel.</p>

<p>MMQGIS is free software and is offered without guarantee or warranty. You 
can redistribute it and/or modify it under the terms of version 2 of the GNU 
General Public License (GPL v2) as published by the Free Software Foundation 
(www.gnu.org). Bug reports or suggestions are welcome at the e-mail address 
above, but I cannot promise a prompt or mutually satisfactory resolution.</p>


<h2>Animation Tools</h2>

<p>The animation tools permit creation of simple map animations as sequences of
map image PNG files. Images may be combined into a single animated GIF 
using <a href="http://gimp.org">Gimp</a>.</p>

<p>Images may be combined into video files using the <b>mencoder</b> program that
comes with <a href="http://www.mplayerhq.hu">mplayer</a>. For example, the following
creates a 15 FPS silent MPEG4 file in an AVI container:</p>

<pre>
mencoder mf://*.png -mf w=640:h=480:fps=15:type=png -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o output.avi
</pre>

<p>Images are sized with the main window and are exported using the
QgsmapCanvas::saveAsImage() function. This does not permit access to the
layout capabilites of the map composer, so any ornamentation (ex. north arrow, labels)
must be placed on the main map using map features.</p>



<h3>Animate Columns</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_columns_form.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_columns.gif" style="border:1px solid gray;"/>
</div>
</div>

<p>The Animate Columns tool permits animation of map features in a single
layer. The objects are moved over the specified <i>Duration</i> number of
frames in a straight line based on the offsets specified in the <i>Latitude
Offset Column</i> and <i>Longitude Offset Column</i>. Individual PNG images for
each frame are written to the specified <i>Image Output Directory</i></p>

<p>The motion is specified with offsets rather than absolute X/Y values to permit
animation of lines and polygons. The offsets must be specified in the Coordinate
Reference System of the layer being animated. Offsets for points may be calculated by:</p>

<pre>
	offset_long = (end_long - start_long)
	offset_lat = (end_lat - start_lat)
</pre>

<p>If you need more control over paths, you should use the Animate Rows tool,
or Anita Graser's <a href="https://plugins.qgis.org/plugins/timemanager/">TimeManager plugin</a>.</p>

<p>This tool can be slow and processing-intensive if animating a large number
of features.</p>


<h3>Animate Lines</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_lines_form.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_lines.gif" style="border:1px solid gray;"/>
</div>
</div>

<p>The Animate Lines tool facilitates animation of lines that grow to their
full length over the specified <i>Duration</i> of the animation.  Individual
PNG images for each frame are written to the specified <i>Image Output
Directory</i></p>

<p>The timing of line growth can be specified in two ways. 
<i>Different Line Speeds Animated Over Ful Duration</i> will grow all
lines at different speeds so they all complete their full path simultaneously
at the end of the animation. <i>One Line Speed Determined By Longest Line</i>
will grow all lines at the same linear speed, with the speed set by the
longest line, which will complete at the end of the animation.</p>

<p>The direction of growth is determined by the order of the linestring
points in the source file. Depending on how the lines were digitized,
this direction may be opposite of what is desired. To control the 
direction of growth, line vertices in the desired order can be created
in a CSV file and imported with the Geometry Import From CSV File.</p>

<p>If attempting to animate a layer of MultiLineStrings, this tool
will combine the points from all line segments into a single line
of points. This will add spurious line segments to the animation
if the points in the line segments were not ordered in a contiguous
manner when digitized.</p>

<p>Because this tool uses an edit session to modify geometry during
animation, red vertex markers will be visible in the animation
unless turned off in: Settings &gt; Options &gt; Digitizing &gt; Vertex markers.
Choosing &quot;Show markers only for selected features&quot; will
prevent display of vertex markers during animation.</p>


<h3>Animate Rows</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_rows_form.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block;">
<a href="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_rows.avi">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_animate_rows.gif" style="border:1px solid gray;"/></a>
</div>
</div>

<p>The Animate Rows tool permits animation of map features in one or more
layers. The features are moved by plotting successive rows in each layer
selected in the <i>Layers to Animate</i> list box.
The <i>Cumulative</i> checkbox causes features from previous rows to
remain on the map.  Individual PNG images for each frame are written to the
specified <i>Image Output Directory</i></p>

<p>If multiple layers are being animated simultaneously, the timing of rows in
each layer will be the same. There is no capability for interpolating, frame
skipping or frame duplication between layers of dissimilar length.  If there
are fewer rows in one animated layer than in another animated layer, no
features from the shorter layer will be displayed after all rows in the shorter
layer have been displayed.</p>

<p>Animate Rows uses an edit buffer to sequentially display individual 
feature geometries. Therefore animated layers must be editable. If
you wish to animate a non-editable layer (such as GPS tracking from a GPX file),
you should save the layer to an editable source, such as a shapefile,
and animate the editable layer.</p>


<p>If text display of timing is desired, a layer must be created
with a column that has the desired display text, and that layer must
be mapped with features labeled.</p>

<p>If you need fine-grained control by specific times or a less cumbersome way
of displaying current time, you may want to consider
using Anita Graser's <a href="https://plugins.qgis.org/plugins/timemanager/">TimeManager plugin</a>.</p>


<!-- ************************************************************ -->

<h2>Combine Tools</h2>

<h3>Attribute Join from CSV File</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_attribute_join_form.png" style="border:none;"/></p>

<p>The join attributes tool permits import of attributes from a CSV file based
on a join using a &quot;key&quot; field that is present both in the CSV file
and in the attribute table of the map layer to which the data is being joined.
The key is specified by selection boxes for CSV File Field and Join Layer
Attribute and do not have to have the same name. The join is similar to an SQL
join and if there are multiple occurances of a key in the CSV or map layer,
there will be multiple combinations of the data in the output shapefile.</p>

<p>A box is also provided to specify the file where unmatched records from the
CSV file are saved for further analysis.

<p>Note that because CSV files contain no reliable type data in the header,
data is always imported from CSV files as text. Text columns can be converted
to numeric (floating point) using the &quot;Text to Float&quot; tool.

<p>CSV files must be encoded in the UTF-8 character set. Although other 8-bit
encodings (like Windoze ISO-8859-x) will work if only ASCII characters are
present, non-ASCII characters may cause unpredictable behavior.</p>

<h3>Merge Layers</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_merge_form.png" style="border:none;"/></p>

<p>The merge layers tool merges features from multiple layers into a single 
shapefile and adds the merged shapefile to the project. One or more layers are 
selected from the &quot;Select Source Layers&quot; dialog list box and an output
shapefile name is specified in the &quot;Output Shapefile&quot; dialog field.</p>

<p>Merged layers must all be the same geometry type (point, polygon, etc.).</p>

<p>If the source layers have different attribute fields (distinguished by name and type), 
the merged file will contain a set of all different fields from the source layers
with NULL values inserted when a source layer does not have a specific output field.</p>

<p>Where fields with the same name in different layers have different types,
the output field type will be string.</p>


<h3>Spatial Join</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_spatial_join_form.png" style="border:none;"/></p>

<p>A spatial join permits combination of information from different layers
based on spatial relationship. The spatial joins are very common operations
in standard GIS analysis.</p>

<p>The Output Shape (target) Layer indicates the layer that defines the shapes 
that will be the output from the operation.</p>

<p>The Data (join) Layer indicates the layer that will provide the data
output from the operation.</p>

<p>Spatial Operation box allows specification of the relationship
that should be used in the operation: Within, Intersects or Contains. 
Some relationships are not available for some combinations of shapes
(ex: there is no within relationship when joining a polygon target
layer with a point join layer).</p>

<p>Attribute Operation indicates what should be done when multiple
features from the join layer have a relationship with the target layer:
First, Sum, Average, and Proportional Sum. Proportional Sum indicates
that the data from each related feature should be summed in proportion
to the amount of join feature area (in map units) covered by the target feature.
Some operations are not available with some combinations of shapes
(ex: proportional sum is not available for point target layers).</p>

<p>The Fields box permits selection of the combined attributes from both
source layers that will be included in the output. Multiple attributes can
be selected. Selection capability is provided so that the output does not
have to be cluttered with multiple unnecessary attributes.</p>

<p>A COUNT attribute is automatically appended to the output that indicates
the number of related join layer features contributing data to each feature
from the target layer.</p>

<p>Features from the target layer that have no spatial relationship
to the join layer are not included in the output.</p>

<p>The ranges given in the legend are rounded to four significant digits
to avoid the extraneous precision associated with mathematical range calculation.</p>

<!-- ************************************************************ -->

<h2>Create Tools</h2>

<h3>Create Buffers</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_create_buffers2.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/buffer-example.png" style="border:none;"/>
</div>
</div>

<p>This tool creates polygon buffers around points, lines and polygons.</p>

<p>This tool expresses buffer sizes as absolute linear distance units (miles,
feet, meters, kilometers defined by WGS 84 great circle distance) rather than
map units. The haversine formula is used to approximate meaningful radius
distances independent of the original projection.  While this may introduce
some deviation from the original CRS, buffering is assumed in practice to be an
inexact operation that can usually tolerate such discrepancy.</p>

<p>Buffer radius can be fixed for all buffers as specified in the dialog, or
buffer sizes can be taken from an attribute in the source shape layer.</p>

<p>Point buffers can be created with different numbers of edges: triangles,
diamonds, pentagons, hexagons, 32-edge circles or 64-edge circles.  If other
numbers of edges, or different numbers of edges for different points are
needed, the number of edges can be taken from a numeric attribute in the source
shape layer.</p>

<p>Point buffers can be rotated based on a fixed number of degrees, or based on
a numeric attribute in the source shape layer that indicates the rotation for
each individual feature.  The first node of a point buffer at zero degrees
rotation is directly north from the point being buffered.</p>

<p>Line buffers can be created as normal rounded-end, single-sided, or
flat-ended. Flat ended buffers are created by dissolving a north-sided and
south-sided buffer for each line. This may cause odd shapes when line ends
point in directions that deviate significantly from the general direction of
the line. With multiple-line features, each line segment is treated as a
separate shape, so angular deviations between line segments may result in 
slivers.</p>

<p>Line buffers can also be north-, south-, east- or west-side only.  The
determination of which side of the line is buffered is determined by the
angular direction of line as defined by the start and end points of the line.
This may result in undesirable results if buffering layers that mix vertically-
and horizontally-oriented features. This tool does not currently have the
capability to buffer based on directional characteristics like traffic or water
flow through the features that lines are used to represent. For lines that are
exactly perpendicular, the west side is considered the north side for north
side buffering. For lines that are exactly horizontal, the south side is
considered the west side.</p>



<h3>Create Grid Layer</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_grid_form3.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block; vertical-align: top;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/grid-example.png" style="border:none;"/>
</div>
</div>

<p>The MMQGIS grid tool creates a shapefile containing a grid of shapes.</p>

<p>The <i>Shape Type</i> combo box permits selection of six types of grids:</p>

<ul>
<li>Lines: Creates separate horizontal and vertical lines for each
grid cell</li>

<li>Rectangles: Creates separate rectangles for each grid cell</li>

<li>Points: Creates points at each grid cell corner</li>

<li>Random Points: Creates points for each grid cell, with
each point randomly located in each grid cell. This is useful
for creating distributions of points that are random but have
a known average spatial regularity</li>

<li>Diamonds: Creates interlocking diamonds (rectangles rotated 45 degrees)</li>

<li>Hexagon: Creates a grid of interlocking hexagons. To maintain
equilaterality, the ratio between the horizontal and vertical spacing
is fixed (and different). Changing horizontal spacing will automatically
change vertical spacing, and vice versa.
</ul>

<p>The grid is specified with an extent (left x, bottom y, right x and top y of the grid boundary), 
an <i>X Spacing</i> width (longitude), and a <i>Y Spacing</i> width (latitude).</p>

<p>The grid extent can be automatically calculated from the current map
window, the extent of a map layer, or the entire world, or it can be
specified with user-defined values.</p>

<p>Distance <i>Units</i> can be in degrees (WGS 84), the units of the coordinate reference
system used by the project (Project Units), or the units for one of the map
layers (Layer Units). If you wish to have a grid based on ground distance
units (such as meters or feet), you should either define the project 
with a projected coordinate system or include a layer
that has a projected coordinate system in the desired units.</p>

<p>The grid is saved to a shapefile specified in the <i>Output Shapefile</i>
form field.</p>

<h3>Hub Distance</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_hub_distance_form.png" style="border:none;"/></p>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_hub_distance.png" style="border:none;"/>
</div>
</div>

<p>The hub distance tool iterates through each feature on the source points layer
and finds the closest &quot;hub&quot; from the destination hubs layer based on
Ellipsoidal distance. The output is a shapefile containing all the attributes from
the source layer along with a distance field and the name of the hub based on an 
attribute selected in the Hub Layer Name Attribute box. </p>

<p>The output shapefile can be either points (one for each source point) or lines
from the source points to the closest hubs.</p>

<p>Distances can be specified in the units selected in the Measurement Unit
combo box. Unless &quot;Layer Units&quot; is selected, points are converted to
WGS84 and great-circle distances are calculated using the Haversine formula
with Lambert's (1942) formula to correct for ellipsoidal flattening.  Distance
is then added as an attribute to the output file.</p>

<p>If your data is not WGS84 lat/long, it may be preferable to use &quot;Layer
Units&quot; so the calculated distances are compatible with the distortions in
your layer projection.</p>

<p>If &quot;Layer Units&quot; is selected, Euclidean distance is calculated in
the coordinate system used for the two layers. No attempt is made to transform
between coordinate systems, and using source and hub layers with different
coordinate systems may yield odd and undesirable results.</p>

<p>If &quot;Equally Distribute Points Across Hubs&quot; is checked, the tool uses
a different algorithm that sequentially assigns points to hubs, and then
iterates through pairs of points while exchanging hubs when the combined 
point/hub distance of the pair would be smaller. This yields a graph
with evenly distributed points and a minimized total point/hub distance.
The minimization algorithm requires multiple passes and may be slow on large data
sets. The minimized results should be mathematically valid, but may yield
non-intuitive results depending on the spatial distribution of your data.</p>

<p>This tool does not incorporate any kind of network analysis, so if paths to
hubs are non-linear (e.g. when dealing with city blocks), the closest
great-circle or Euclidean distance may not be the closed in terms of traveling
distance.</p>


<h3>Hub Lines</h3>

<div style="width: 100%;">
<div style="width: 60%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_hub_lines_form.png" style="border:none;"/></p>
</div>
<div style="width: 35%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_hub_lines.png" style="border:none;"/>
</div>
</div>

<p>The hub lines tool creates hub and spoke diagrams with lines drawn from points
on the &quot;Spoke Point&quot; layer to matching points in the &quot;Hub Point&quot;
layer. Determination of which hub goes with each point is based on a match between
the &quot;Hub ID Attribute&quot; on the hub points and the &quot;Spoke Hub ID Attribute&quot;
on the spoke points.</p>

<p>The lines are output to a shapefile of lines and each line
inherits all attributes from the matching spoke points.</p>

<p>No attempt is made to transform between coordinate systems, so using source
and hub layers with different coordinate systems may yield odd and undesirable
results. This tool also does not incorporate any kind of network awareness
(e.g. as when dealing with streets between city blocks), and all lines are
straight lines from spoke to hub.</p>


<h3>Voronoi Diagram</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_voronoi_form.png" style="border:none;"/>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/voronoi-example.png" style="border:none;"/>
</div>
</div>

<p>A Voronoi diagram is a collection of polygons, each surrounding individual points
and representing the area around each point that is closer to that point than any
other. The shapes are named after Russian mathematician Georgy Fedoseevich Voronoi, 
who published a formal definition in 1908, but the concept of this type of polygon 
extends back to Descartes in the 17th century. Similar polygons were famously used 
by physician John Snow to trace the source of a London cholera epidemic in 1854 and
Voronoi diagrams remain useful in GIS for analyzing areas of influence associated 
with individual points within a collection.</p>

<p>The Voronoi diagram tool requires a point layer and outputs a polygon shapefile
with the option to add it to the map. The boundary of the Voronoi diagram is the
min/max extent of the points in the source layer.</p>

<p>The algorithm used to calculate the edges and nodes starts with tangents
at the midpoints of lines between each point. The closest tangent is
assumed to be a border and intersections to the border are calculated to
circle each border until back to the beginning. The algorithm is computationally
intensive, but still seems to run fairly quickly on a reasonably small set
of points.</p>


<!-- ************************************************************ -->

<h2>Geocode Tools</h2>

<h3>Geocode CSV With Web Service</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_geocode_web_service_form2.png" style="border:none;"/></p>

<p>This tool imports addresses from a CSV file and uses
either the Google Maps &trade; API or the 
<a href="http://wiki.openstreetmap.org/wiki/Nominatim">OpenStreetMap Nominatim</a> web service
to geocode those addresses. The result is a point
shapefile that is added to the current map, along with a Not Found CSV file containing
all rows that could not be geocoded (for whatever reason).</p>

<p>All columns from the input CSV file are added as attributes in the output
shapefile. Addresses may be spread across as many as four different columns
(street, city, state, country - which are concatenated for the query), although
only one meaningful column is absolutely required (such as for a city/state
combination).</p>

<p>Two additional attributes are added to each shape to preserve exactly what
the web service geocoded so that accuracy can be assessed.  <em>addrtype</em>
is the Google &lt;type&gt; element or OSM class attribute and indicates what
kind of address type this is (street, route, etc). <em>addrlocat</em> is the
Google &lt;location_type&gt; element or OSM type attribute and indicates the
relationship of the coordinates to the addressed feature (rooftop, geometric
center, interpolation, etc).</p>

<p>The input CSV file should be encoded in the UTF-8 character set. Although
other 8-bit encodings (like Windoze ISO-8859-x) will work if only ASCII
characters are present, non-ASCII characters may cause unpredictable
behavior.</p>

<p>If the service returns more than one location for the address, only
the first of the locations will be used for an output feature.</p>

<p>Use of this plugin requires an active Internet connection. Google places
both rate and volume restrictions on the number of addresses that can be
geocoded within various time limits. You should visit Google's
<a href="http://code.google.com/apis/maps/documentation/geocoding/">
Google Geocoding API</a> page for more details, current information and
Google's terms of service.</p>

<p>If you have demands beyond Google's limits or restrictions,
you might consider <a href="https://developers.google.com/maps/documentation/geocoding/start#get-a-key">
getting an API key</a>. When you have one, you can include this
in the <i>API Key</i> dialog box.</p>


<h3>Geocode from Street Layer</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/street-geocode.png" style="border:none;"/></p>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_geocode_street_layer_form.png" style="border:none;"/>
</div>
</div>

<p>The street address geocoding tool requires a layer with street centerline
features and attributes indicating the range of addresses associated with each
feature.</p>

<p>Examples of street centerline shapefiles include the US Census Bureau's
<a href="http://www.census.gov/geo/www/tiger/tgrshp2010/tgrshp2010.html">
TIGER/Line Shapefiles</a> and the New York City Department
of City Planning's <a href="http://www.nyc.gov/html/dcp/html/bytes/dwnlion.shtml">
DCPLION files</a>. Shapefiles created as ESRI &quot;address locators&quot; can be used with
this geocoder, but newer version file geodatabases and older Access geodatabases
cannot be used because these proprietary formats are not supported by QGIS.
MapInfo tables are supported and can be used if these are provided as an alternative.</p>


<p>The street centerline layer should have attributes for FROM x/y and TO x/y (in map coordinates),
a range of addresses on the left side, and a range of addresses on the right side.</p>

<p>Optionally, an attribute selector is given to permit the FROM/TO x/y from the shape lines 
themselves can be used (&quot;street line start&quot; and &quot;street line end&quot;). 
However, this assumes that the order of line vertices in the
shapefile consistently starts with FROM or TO points, which may not be true and which
may result in inconsistently geocoded locations.</p>

<p>Addresses (along with other attributes) are read in from a CSV file. Addresses
should have separate attribute fields for number and street name. Optional ZIP Code
fields are provided for additional accuracy when using TIGER/Line files.
The attributes columns from the
street centerline layer can also be selected, although when a layer is selected,
the dialog will attempt to find columns with appropriate names.</p>

<p>The input address CSV file and the street centerline shapefile 
should be encoded in the UTF-8 character set. Although
other 8-bit encodings (like Windoze ISO-8859-x) will work if only ASCII
characters are present, non-ASCII characters may cause unpredictable
behavior.</p>

<p>The &quot;Building
Setback&quot; indicates how far the geocoded points should be set away from the
street centerline (i.e. how far buildings are from the middle of the street,
in map units).</p>

<p>To improve searching, street names are internally modified with common abbreviations 
such as &quot;st&quot; for &quot;street&quot; and &quot;w&quot; for &quot;west&quot;.
This add fuzziness to the search process that may result in unexpected results.
This address handling may be augmented or refined in future releases.</p>

<p>As with many tools of this type, the matching and interpolation is quite
fragile.  Street names in the street layer must match the names in the CSV file
exactly - &quot;First Street&quot; will not match &quot;1st
street&quot;. The tool will also only handle address street numbers that are
entirely numeric - &quot;172-10 Seventh Ave.&quot; or &quot;1872a Main&quot;
will throw fatal errors.</p>

<p>Output is a new point shapefile and a CSV file listing which addresses were
not matched.</p>


<h3>Street Address Join</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_street_address_join_form.png" style="border:none;"/></p>

<p>The <i>Street Address Join</i> tool permits joining table data from a CSV file
to shapes from a map layer based on a fuzzy match between street addresses.</p>

<p>The CSV file of data is selected with the <i>Input CSV File</i> box,
and the column in the CSV file containing the address is selected
in the <i>CSV Address File Field</i> combo box.</p>

<p>The map layer of shapes is selected from the <i>Shape Layer</i> combo box,
and the attribute field in the layer containing the address to 
match to the CSV addresses is selected in the <i>Shape Layer Address Field</i> combo box.</p>

<p>The joined data and shapes will be written to the file given in
the <i>Output Shapefile</i> box, and rows from the CSV file with
no matching address in the map layer will be written to the
file specified in the <i>Not Found CSV Output List</i>.</p>

<p>Addresses are complex and
highly ambiguous, and the address parsing algorithm used in MMQGI is
not as robust as <a href="https://github.com/openvenues/libpostal">libpostal</a>
and relies on many of the
<a href="https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/">
falsehoods programmers believe about addresses</a>.</p>

<p>This tool works by normalizing addresses from both the CSV file
and the map layer to a common format, and then performing direct
string comparisons between the two lists of addresses to find matches.
Some normalization transformations include:</p>

<ul>
<li>All lower case</li>
<li>Removal of periods and commas</li>
<li>Removal of trailing numbers that appear to be unit numbers</li>
<li>Removal of st, nd, rd, and th from after numbers</li>
<li>Replacement of trailing street types (like boulevard, parkway, street, plaza, etc)
with abbreviations (blvd, pkwy, st, pl)</li>
<li>Separation into three parts: lot/house number, street name, and (optional) unit number</li>
</ul>

<p>While many of these transformations increase rather than reduce ambiguity,
the hope is that they reduce false positives and negatives within limited
geographic areas.</p>

<p>This tool also does not currently provide capabilities for distinguishing
duplicate addresses by zip code or city name. However,
for simple tasks like matching lists of street addresses
within limited geographic areas (like cities or counties)
in the USA, this tool may be more precise than using
a web geocoder or street layer.</p>

<!-- https://mapzen.com/blog/inside-libpostal/ -->

<!-- ************************************************************ -->

<h2>Import / Export Tools</h2>


<h3>Attributes Export to CSV File</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_attribute_export_form.png" style="border:none;"/></p>

<p>The export attributes tool saves attributes from a map layer to
a CSV file, which can then be viewed or edited. This can be helpful
when you have some use for the attribute data without the associated
geographic data. When dealing with data sets that have large numbers
of rows or columns, viewing or searching exported data can be simpler
or faster than the QGIS open attribute table, which can be unacceptably
slow with large data sets.</p>

<p>A multiple-selection list box on the dialog permits selection of
the attribute columns to export to a CSV file specified at the
bottom of the form.</p>



<h3>Geometry Export To CSV</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_geometry_export_csv_form.png" style="border:none;"/></p>

<p>Geometry Export to CSV exports points, polylines or polygons to
comma-separated variable (CSV) files.

<p>For point layers, the output CSV file includes an &quot;x&quot; column, a
&quot;y&quot; column, and a &quot;shapeid&quot; column in addition to all
attributes associated with each point.</p>

<p>For polyline and polygon layers, individual nodes of each shape are given a
separate row in the output file. Nodes for each shape have the same
&quot;shapeid&quot; value. Node lines are written in the same sequential order
that nodes occur in the shape. Attributes for each shape are exported to a
separate CSV file, with a &quot;shapeid&quot; column referencing the associated
nodes in the node CSV file.</p>

<p>Elevation (z) export is not currently supported because QGIS geometries
<a href="http://qgis.osgeo.org/api/classQgsPoint.html">do not currently support
z-axis / 2.5D</a></p>

<p>Polygons with holes (inner rings) have hole polygons saved under separate shapeids
that contains &quot;ring&quot; in the name.</p>


<h3>Geometry Import From CSV</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_geometry_import_csv_form.png" style="border:none;"/></p>


<p>Geometry Import From CSV imports points, polylines exports points, polylines
or polygons to comma-separated variable (CSV) files. A combo box is provided to
indicate whether the nodes from the CSV file should be imported as discrete
points, as lines or as polygons.</p>

<p>For point layers, only a single input CSV file is needed that includes
latitude and longitude columns. All other columns are imported as attributes.
This is essentially the same as the &quot;Add Delimited Text Layer&quot; native
QGIS command. Attributes are always imported as text strings and if columns
need to be converted to integer or floating-point types, the MMQGIS &quot;Text
to Float&quot; command should be used.</p>

<p>For polyline and polygon layers, individual nodes of each shape should be
provided on separate rows in an input CSV node file. The file should have three
columns: Latitude, Longitude, and Shape ID. Any additional columns will be
ignored. Nodes for each shape should have the same unique Shape ID value and
should occur in the file in the same sequence that they will be added to the
shape.</p>

<p>If the imported polylines or polygons have additional attributes to be
imported, they should be placed in a separate CSV file with a Shape ID column
to join to the imported nodes using the MMQGIS &quot;Attributes Join From CSV
File&quot; command.</p>

<p>Other than providing a compliment to the &quot;Geometry Export To CSV&quot;
command, this command can be used to import transit &quot;shapes.txt&quot; data from
<a href="http://code.google.com/transit/spec/transit_feed_specification.html">
General Transit Feed Specification (GTFS)</a> releases by transit agencies.</p>

<p>The input CSV file(s) should be encoded in the UTF-8 character set. Although
other 8-bit encodings (like Windoze ISO-8859-x) will work if only ASCII
characters are present, non-ASCII characters may cause unpredictable
behavior.</p>

<p>Type errors such as non-numeric latitude/longitude may throw a cryptic Python error.</p>

<h3>Google Maps (tm) KML Export</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_kml_export_form.png" style="border:none;"/></p>

<p>Although QGIS permits seamless import and export of formally correct KML files,
the KML is often not optimal for import into Google Maps (tm).</p>

<p>This tool exports features to KML with the capability to explicitly specify
fields for the Name and Description that are always displayed in the current (as of this writing)
default Google Maps (tm) interface.</p>

<p>Multiple fields can be combined in the description. The Description Separator
indicates how multiple fields should be separated: as separate paragraphs, preceded
by a field name on separate lines in a single paragraph, 
simply separated by commas in a single paragraph, or using custom HTML.</p>

<p>With custom HTML, field values can be included enclosed in double braces.
For example, the following would create a description including the
NAME, POP and YEARINC fields for each placemark written to the KML file.

<pre>
&lt;p&gt;City: {{NAME}}
&lt;br/&gt;Population: {{POP}}
&lt;br/&gt;Incorporated: {{YEARINC}}&lt;/p&gt;
</pre>

<p>The tool can also include &lt;ExtendedData&gt; with all of the
field values by selecting <b>Export attributes as &lt;Data&gt;.</b>
This permits the KML file to be used to store
geometries and attributes that can then be imported back into QGIS
or other GIS software. However, when simply creating a KML file
for display on a web map, you may want to switch this off
to minimize file size (load time) and avoid cluttering the
popup with unnecessary information, especially when you have
a large number of attributes.</p>

<p>This tool exports points using the default Google Maps (tm) PNG icons.
Since a full palette of icon colors is not available, icon colors are
approximated based on the RGB values of point layer symbol colors.</p>


<h3>Search</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_search_form.png" style="border:none;"/></p>

<p>The search tool permits interactive browsing of features that match the
specified search criteria. Results are displayed in a list box at the bottom of
the search dialog.</p>

<p>Clicking one of the features on the results box moves the map canvas to
center that feature in the window.</p>

<p>This tool also provides options in the layer selection combo box for 
searching addresses using Google Maps or Nominatim / Open Street Map.
This option only searches for addresses since generalized serches (such as
for restaurants or landmarks) require use of the Google Places API, which
requires a website-specific API key that cannot be included in a generalized
plugin. Selection of an address only pans the map display to place the 
location in the center of the display, and no markings are added to the map.</p>

<p>Multiple selections in the results list are possible using the CTRL and
SHIFT keys. If multiple features are selected, the map canvas centers on a
central area between the centroids of all selected features.</p>

<p>Layer feature searches can be performed on one or two specific attribute
fields. If a value is specified for an second attribute, a feature must match
BOTH conditions to be included in the results list.</p>

<p>Layer feature searches can also be made across all layers by choosing
the <i>[All Layers]</i> in the layers combo box, and/or all fields in
the specified layers by choosing the <i>[all]</i> attributes option in
the attribute combo box. Choosing to search all layers or attributes
can be time-consuming, and/or yield an unmanageable set of search
result features.</p>

<p>Possible comparisons on numeric or string attributes are the common
permutations of equal, greater than, or less than. String attributes can be
searched with &quot;contains&quot; or &quot;begins with.&quot; Searches are
case insensitive.</p>

<h3>Select</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_select_form.png" style="border:none;"/></p>

<p>The select tool permits export of features from a layer based on
comparison to attribute values. The selection is written to a new shapefile.</p>

<p>While the native QGIS export selection capability is suitable
for most select operations, this tool may save time when selecting
from extremely large data sets. The frequent and explicit
status updates also provide awareness and assurance that the software
is not frozen.</p>

<p>The select tool can select based on a single attribute (Select Attribute)
a comparison (equal, not equal, greater, greater equal, less, less equal,
begins with and contains), and a user-specified comparison value. Values can 
be numeric or text and type conversion will be made based on the native type
of the specified selection attribute. The &quot;begins with&quot; and 
&quot;contains&quot; comparisons are meant for strings and may give 
unpredictable results when applied to integer or floating-point attributes.</p>

<p>No capability is provided for complex selections or selection based
on multiple attributes. However, is is generally possible, albeit cumbersome,
to execute multiple selection operations and/or merge operations from 
separate output files to perform complex selections.</p>


<!-- ************************************************************ -->

<h2>Modify Tools</h2>

<h3>Convert Geometry</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_geometry_convert_form.png" style="border:none;"/></p>

<p>The Geometry Convert tool changes the geometry types of shapes.</p>

<ul>
<li>All shapes other than points can be converted to centroids or individual node points</li>

<li>Multi-part shapes (multi-point, multi-line, multi-polygon) can be decomposed to 
individual parts (point, line, polygon, respectively)</li>

<li>Single-part shapes can be merged into multi-part shapes based on a common attribute (Merge Field).
Numeric attributes from from the multiple source features will be handled using the Merge Attribute
Operation (First or Sum). String attributes from multiple source features are always merged
using the value from the first encountered feature.</li>

<li>Polygons and multi-polygons can be converted to lines</li>

<li>Shapes with elevation (2.5-D) are converted to X/Y (2-D). This can be helpful
for converting GPS or KML layers to 2-D for merging with other 2-D layers (elevation is discarded)</li>
</ul>


<h3>Delete Duplicate Geometries</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_delete_duplicate_form.png" style="border:none;"/></p>

<p>The Delete Duplicate Geometries tool removes duplicates shapes from 
a layer as it saves that layer to a shapefile. Two shapes are considered
duplicates if their geometries are exactly identical, as determined by
the QgsGeometry equals() function. Attributes are not considered, only
geometry.</p>

<p>To improve speed, this tool loads all geometries into memory - which may
cause memory issues with large datasets or large numbers of complex polygons.</p>


<h3>Float to Text</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_float_to_text_form.png" style="border:none;"/></p>

<p>As of this writing, QGIS does not have a feature for number formatting 
when numeric values are used to label features. The Text to Float tool
converts integer and floating point values to strings, with the
ability to specify thousands separators, the number of decimal digits,
prefixes and suffixes (eg. dollar sign prefix or &quot;miles&quot; suffix).
This is the opposite of the &quot;Text to Float&quot; tool.</p>

<p>The Source Layer box is used to select the layer containing the
attributes for conversion. The Fields to Convert selection box is used
to select the attributes to be converted. Multiple fields may be selected.
The Output Shapefile box selects the name of the file where the converted
records will be written.</p>


<h3>Gridify</h3>

<div style="width: 100%;">
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_gridify_form.png" style="border:none; float:right;"/>
</div>
<div style="width: 45%; display: inline-block;">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/gridify-example.png" style="border:none; float:right;"/>
</div>
</div>

<p>The gridify tool permits simplification of points, lines and polygons
in a shapefile by aligning all vertices to a specified grid and then removing
redundant points. This makes it possible to significantly improve display refresh 
time when working with shapefiles that are more detailed than is necessary for
the final map. However, the gridification process can result in some odd artifacts
when viewed at higher resolutions, particularly in dealing with coves and other
appendages along the edges of larger polygons.</p>

<p>The alignment grid is specified with horizontal and vertical spacing. Defaults
are based on 0.5% of the extent of the target layer. The gridified shapes are saved
to a shapefile specified in the &quot;Output Shapefile&quot; form field.</p>


<h3>Sort</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_sort_form.png" style="border:none;"/></p>

<p>The sort tool permits sorting of attribute data and associated shapefile
data to maintain alignment. Sorting is based on a single attribute column
and the result of the sort is saved to a shapefile specified in the Output
Shapefile box. Sorting by attribute can be helpful for ordered CSV export
or when viewing the Attribute Table</p>


<h3>Text to Float</h3>

<p align="center">
<img src="http://michaelminn.com/linux/mmqgis/screenshots/mmqgis_text_to_float_form.png" style="border:none;"/></p>

<p>Numeric values may be stored as text strings in shapefiles, making it impossible
to use them for symbology values. The Text to Float tool converts string
attributes to floating point.</p>

<p>Source Layer selects the layer containing the
attributes for conversion. The Fields to Convert selection box is used
to select the attributes to be converted. Multiple fields may be selected.
The Output Shapefile box selects the name of the file where the converted
records will be written.</p>

<p>Care should be exercised in selecting fields since fields containing
strings that cannot be converted to floating point (e.g. strings with
non-numeric characters) will be assumed to have a value of zero.</p>

<p>Integer fields are converted to floating point, which
should result in no loss of precision but may increase shapefile size.
However, integer strings exceeding MAXINT will get unpredictable
values and there may be some loss of precision when converting
real values with large numbers of digits of significance.</p>


<h2>Version History</h2>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2017.05.14.zip">v2017.05.14</a>
<br/>Fix mmqgis_load_combo_box_with_vector_layers() so it can fill both QListWidget and QComboBox
and doesn't throw error in merge_layers (Lavure)
<br/>Add all layers and all attributes options to search
<br/>Fix space replacement with '+' so Google search works</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2017.02.28.zip">v2017.02.28</a>
<br/>Merge layers dialog uses order of layers from layer TOC (Stautz)
<br/>Handle both symbol and layer transparency in KML export (Wrenn)
<br/>Graceful failure when 2.5D line passed to animate_lines (Brandsma)
<br/>Animate Rows uses editor buffer rather than subset string, 
which failed to animate if the first field was not sequential (Brandsma)</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2017.02.12.zip">v2017.02.12</a>
<br/>Upgraded mmqgis_read_csv_header() to gracefully fail with non-UTF-8 characters (Barta)
<br/>Upgraded mmqgis_geocode_web_service() to gracefully fail with non-UTF-8 characters (Wright)
<br/>Fixed bug in mmqgis_animate_lines() that was causing line features to be considered invalid (Lawhead)
<br/>Fixed KML export crash due to inconsistent API spec for derived class QgsFeatureRendererV2:symbols() (Wrenn)</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.12.29.zip">v2016.12.29</a>
<br/>Get KML export working again under 2.18 (Asch)
<br/>KML export multipolygons as MultiGeometry
<br/>KML attribute export as ExtendedData
<br/>Customizable KML description HTML
<br/>Fix geometry_export_to_csv non-ASCII character errors (Hollander)
<br/>Fix attribute join mangling large integers
<br/>Dialog layer selection boxes use layer order from TOC (Petersen)
<br/>Invalid rightzipcode assignment in street geocode (Janko)
<br/>Revert street geocoder to simpler street name normalizer (Torres)
<br/>Accept LongLong and ULongLong as spatial join numeric types under Windoze 64-bit (Petersen)
<br/>Spatial join (and most tools) include joined fields (Petersen)
<br/>layer.fields() allows removal of quirky layer.dataProvider.fields()
<br/>Change merge attribute handling to convert different attribute types with same name to string</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.10.26.zip">v2016.10.26</a>
<br/>Remove forgotten "math." prefixes in upgraded distance and bearing calculation code</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.10.19.zip">v2016.10.19</a>
<br/>Remove hub_lines debug lines that cause crash on Windows</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.10.18.zip">v2016.10.18</a>
<br/>Put "from math import *" back in so math functions do not need "math." prefix
<br/>Hub lines ignore feature.geometry() == None</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.10.12.zip">v2016.10.12</a>
<br/>Add meaninful text conversion of Date and DateTime in geometry export
<br/>Change http to https for Google geocoding with API key
<br/>KML export and gridify ignore feature.geometry() == None</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.08.18.zip">v2016.08.18</a>
<br/>Fix bug in hexagon grid with incorrect calculation of fixed aspect ratio
<br/>Make minimum QGIS version 2.10</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.08.17.zip">v2016.08.17</a>
<br/>Address join added faster string search and handing of text versions of numbered streets (Fifth vs 5th)
<br/>Street Geocode add handling for 2-D and 2.5-D lines
<br/>Street Geocode add geometry type test at start for more-graceful handling of wrong geometry type
<br/>Fixed incorrectly reversed aspect ratio on hexagonal grid</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.08.04.zip">v2016.08.04</a>
<br/>Bug fix missing header names when exporting all attributes
<br/>Consolidate grid and point tools (Watke)
<br/>API key field for Google geocode (Shaw)
<br/>Add retries and system error messages for web geocoding (Waelti, Shaw)
<br/>Street address join tool (Rotondaro)
<br/>Add line centroids (Kolajo)
<br/>Add rotation and number of edges for point buffers (Thompson)
<br/>Remove Color Ramp, Label Layer and Delete Column tools, which all now have decent native equivalents
<br/>Replace all layer.dataProvider() with direct QgsLayer calls (except fields)</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.05.15.zip">v2016.05.15</a>
<br/>Add notfound handling of non-integer street numbers in street geocoding (Barowicz)
<br/>Add username/password to proxy handling (Ghensi)
<br/>Add handling of joined attributes in attribute_export (Krticka)</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2016.01.31.zip">v2016.01.31</a>
<br/>Add decimal mark for attribute export
<br/>Use xml.etree.ElementTree for Nominatim XML because it inconsistently uses double quotes 
or single quotes for attributes
<br/>Non-string selection attribute for animate rows
<br/>Change web geocode to use urllib2 and add proxy handling
<br/>Add graceful geocoding stop when exceeding Google daily quota
<br/>Bug fix so buffers radius from attribute works</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.11.03.zip">v2015.11.03</a>
<br/>Add handling of polygons with inner rings to export KML
<br/>Added semicolon as separator option in export attributes</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.10.12.zip">v2015.10.12</a>
<br/>Fix crash looking for dataProvider.fields() in spatial join with raster layers
<br/>Remove errant debug line 4122 in mmqgis_merge()</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.08.08.zip">v2015.08.08</a>
<br/>Update tab order in all dialogs to be top-down, left-to-right
<br/>Kludge dialect.escapechar in mmqgis_geocode_web_service to prevent 
CSV crash with non-ASCII characters in Windoze</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.05.27.zip">v2015.05.27</a>
<br/>Fix crash in join with OpenLayers layers
<br/>Fix crash in mmqgis_geocode_web_service_dialog() if non-CSV file read
<br/>Add equal distribution option to hub distance</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.02.11.zip">v2015.02.11</a>
<br/>QDate conversion to yyyy-MM-dd string in export attributes to CSV
<br/>Create Grid Points Layer tool
<br/>Animate Lines tool</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2015.01.29.zip">v2015.01.29</a>
<br/>Correct/swap top/bottom attribute name on create grid
<br/>Spatial join converts integer attributes to real for sum/average/proportional-sum
<br/>Spatial join error check duplicate and ambiguous field names
<br/>Spatial join bug fix attribute sum/average/proportional-sum</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.09.19.zip">v2014.09.19</a>
<br/>Allow maximum 10-character field names from Join CSV rather than erroneous 9-character limit
<br/>Bug fix Join CSV handling of multiply-duplicated truncated field names so fields are not lost</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.08.25.zip">v2014.08.25</a>
<br/>Work around KML export style and symbolForFeature() API crash bug using start/stopRender()</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.08.24.zip">v2014.08.24</a>
<br/>CSV header conversion from UTF-8 so field names can be non-ASCII
<br/>KML export using io.open(encoding=utf-8) to support non-ASCII characters
<br/>Bug fix to save hub distance shapefile as WGS84 rather than source CRS</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.08.03.zip">v2014.08.03</a>
<br/>CSV format sniff read 4096 rather than 2048 bytes so error is not thrown on files with long lines</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.07.25.zip">v2014.07.25</a>
<br/>Add pixmap parameter to saveAsImage() so animation works with v2.4 asynchronous map refresh</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.07.10.zip">v2014.07.10</a>
<br/>mmqgis_merge() add case insensitivity to layer names
<br/>mmqgis_merge() add test for type mismatch for attributes with the same name
<br/>layer.dataProvider().crs() is now just layer.crs()
<br/>Add graceful failure when join by attribute or convert geometry type with no layers
<br/>Add &quot;Only selected features&quot; option for buffers</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.06.08.zip">v2014.06.08</a>
<br/>Add "Mixed" symbol types to color ramp
<br/>Add Red-Yellow and Yellow-Red to presets
<br/>Add escapechar to dialect for attribute join notfound CSV write
<br/>Fix mmqgis_round() so created grid centers correctly in WGS 84
<br/>Add addrtype and addrlocat fields for web geocoded addresses
<br/>Upgrade of animate columns to use rolled-back editing sessions rather than temporary layers
<br/>Upgrade of animate rows to use setSubsetString instead of temporary layers
<br/>Upgrade search dialog with Google and OSM search options</p>

<!-- 
<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.06.06.zip">v2014.06.06</a>
Release with Search bug
-->

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.02.28.zip">v2014.02.28</a>
<br/>Add duplicate node check to Voronoi to avoid creating invalid geometries
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.02.24.zip">v2014.02.24</a>
<br/>Remove leading zeros in metadata.txt version numbers to avoid version
number update loop since http://plugins.qgis.org strips leading zeros.
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.01.06.zip">v2014.01.06</a>
<br/>Remove debug lines from from mmqgis_geocode_street_layer() that were causing IOError on Windoze.
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2014.01.01.zip">v2014.01.01</a>
<br/>Add OpenStreetMap/Nomatim as web service geocoding option along with the Google
<br/>Add absolute measurement units to Distance to Nearest Hub
<br/>Add flat-end and single-sided buffers for lines
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2013.06.29.zip">v2013.07.16</a>
<br/>Upgrade mmqgis_search() to use QgsExpression for improved speed
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2013.06.29.zip">v2013.07.15</a>
<br/>Add Search tool for interactively browsing features
<br/>Add setDragDropMode() to merge layers list so layer merging can be ordered.
</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2013.06.14.zip">v2013.06.14</a>
<br/>Inner rings (holes) are saved as separate polygons in Geometry Export
<br/>metadata.txt minimum version now has to be 2.0.0 to be fetched from repository, even though Master is 1.9
<br/>Fix code broken by more API changes
<br/>QgsFeature::attributes() no longer QVariant (API change in QVariant typecasting?)
<br/>QVariant toString(), toDouble() and toInt() replaced by unicode(), float() and int()
<br/>Coded substitute for removed QgsVectorLayer::featureAtId()
<br/>Conditional call to isUsingRendererV2() - old renderer V1 has been removed</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2013.03.23.zip">v2013.03.23</a>
<br/>Fix overlap/holes topology problem in create grid layer</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2013.03.14.zip">v2013.03.14</a>
<br/>Extensive upgrade to work with new QGIS vector API v1.9
<br/>Menu moved to top-level menu bar and reorganized
<br/>Continued fixes for UTF-8 support in all tools
<br/>Addition of create buffers, spatial join, and Google (tm) maps KML export
<br/>Enhance convert geometry tool to handle conversion from singlepart to multipart 
<br/>Enhancement of color ramp tool (although the QGIS new symbology interface makes this tool less useful)
<br/>Addition of ZIP field to street geocode for TIGER line files</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.12.07.zip">v2012.12.07</a>
<br/>Replace QgsRenderer with 
<a href="http://www.qgis.org/pyqgis-cookbook/vector.html#appearance-symbology-of-vector-layers">
QgsRendererV2</a> in animation tools (legacy renderer unsupported in Windoze, V2 unsupported in Linux)</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.10.25.zip">v2012.10.25</a>
<br/>__init__.py syntax error</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.08.28.zip">v2012.10.19</a>
<br/>Add urllib.quote() to Google geocode to handle non-ASCII address characters</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.08.28.zip">v2012.08.28</a>
<br/>mmqgis_select() uses unicode() instead of str() for string conversions
<br/>Upgrade street geocode to be able to use start/end x/y from layer geometries</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.05.10.zip">v2012.05.10</a>
<br/>Minimum qgis version now 1.4
<br/>Add exception handling in grid dialog for crs functions new to qgis 1.7 and 2.0
<br/>New tool: Geometry Convert</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.05.06.zip">v2012.05.06</a>
<br/>New tools: Animate Rows, Animate Columns, Delete Columns, Float to Text
<br/>text_to_float handles numbers with comma separators
<br/>Hub distance now calculated in meters, Km, feet or miles using QgsDistanceArea
<br/>mmqgis_library functions now return error message rather than creating error message box
<br/>mmqgis_library functions now all have addlayer parameter</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.04.06.zip">v2012.04.06</a>
<br/>Catch CSV sniffer errors in attribute join, Google geocode, and geocode streets
<br/>Change qt.4 legacy menu activated() to triggered() 
<br/>Add submenus to facilitate future additions</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2012.01.11.zip">v2012.01.11</a>
<br/>Add Hub Lines tool
<br/>Add Delete Duplicate Geometries</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.11.12.zip">v2011.11.12</a>
<br/>Sort by attribute sorts int and float columns numerically</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.10.08.zip">v2011.10.08</a>
<br/>Commented out debug lines - causing &quot;Bad file descriptor&quot; error on Windoze</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.10.07.zip">v2011.10.07</a>
<br/>Fixed bug in raster color map - slightly better interpolation algorithm</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.10.06.zip">v2011.10.06</a>
<br/>Added is_float() tester for import geometry
<br/>Add explicit qgis parameter for mmqgis_read_csv_header()
<br/>Add notes for lack of UTF-8 and Unicode
<br/>Add direction for sort
<br/>Remove google geocode print debug line 494
<br/>Replace color_ramp /tmp directory with mkstemp()</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.09.14.zip">v2011.09.14</a>
<br/>Replace all str() with unicode() in mmqgis_dialogs.py to handle non-ASCII characters.</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.08.27.zip">v2011.08.27</a>
<br/>Add delimiter and line terminator options to export attributes and export geometry
<br/>Change attribute join text encoding from utf-8 to iso-8859-1 (M$-Windoze charset)
<br/>CSV attribute and geometry export character coding iso-8859-1
<br/>Fix case sensitivity in attribute join duplicate field name correction</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.08.22.zip">v2011.08.22</a>
<br/>Bug fix - unicode text handling in join attributes and export geometry</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.08.16.zip">v2011.08.16</a>
<br/>Bug fix - disable plugin removes menu entries - mmqgis_menu.unload()</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.07.29.zip">v2011.07.30</a>
<br/>Bug fix - bad shape ID on import geometries of points
<br/>Add error handling for CSV import delimiter sniffer exceptions
<br/>New grid types: rectangular polygon, diamond and hexagon</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.03.14.zip">v2011.03.14</a>
<br/>Add export / import geometries to / from CSV</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.01.21.zip">v2011.01.21</a>
<br/>Modify mmqgis_label_point() to use unicode() rather than str() for point labeling</p> 

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2011.01.08.zip">v2011.01.08</a> 
<br/>Add to <a href="http://pyqgis.org/admin/contributed">Official QGIS repository</a></p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2010.09.26.zip">v2010.09.29</a> 
<br/>- Added color map
<br/>- Added Google (tm) geocode
<br/>- Extensive internal reorganization of code
<br/>- Created mmqgis_library.py</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2010.01.02.zip">
v2010.01.02</a> - Added hub distance and select tools</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2009.09.04.zip">
v2009.09.04</a> - Added text to float tool</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2009.09.01.zip">
v2009.09.01</a> - Added merge layers tool</p>

<p><a href="http://michaelminn.com/linux/mmqgis/mmqgis.2009.08.28.zip">
v2009.08.28</a> - Initial public release</p>



</body>
</html>
